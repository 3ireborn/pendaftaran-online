<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Facebook Generator - NPA 3iReborn</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background: #f8fafc; font-family: 'Inter', sans-serif; }
    .card { border-radius: 16px; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .btn-primary { background:#1e3a8a; border:none; border-radius:12px; font-weight:600; }
    textarea { resize:none; border-radius:12px; font-size:15px; }
  </style>
</head>
<body>

<div class="container py-4">
  <div class="card p-4">
    <h3 class="mb-3 text-center">ðŸ¤– AI Facebook Generator</h3>
    <p class="text-center text-secondary mb-4">
      Auto bikin konten Soft Selling yang siap dibagikan ke Facebook & WhatsApp ðŸ“±
    </p>

    <label class="fw-semibold">Pilih Leader</label>
    <select id="leaderSelect" class="form-select mb-3">
      <option value="">Memuat data leader...</option>
    </select>

    <label class="fw-semibold">Tema / Topik</label>
    <select id="temaSelect" class="form-select mb-3">
      <option value="soft">Soft Selling 3iReborn</option>
      <option value="motivasi">Motivasi & Inspirasi Finansial</option>
      <option value="edukasi">Edukasi Asuransi & Investasi</option>
    </select>

    <label class="fw-semibold">Gaya Bahasa</label>
    <select id="styleSelect" class="form-select mb-3">
      <option value="formal">Formal & Informatif</option>
      <option value="friendly">Santai & Persuasif</option>
      <option value="emotional">Menyentuh & Menginspirasi</option>
    </select>

    <button id="generateBtn" class="btn btn-primary w-100 mb-3">âœ¨ Generate Konten</button>

    <label class="fw-semibold">Hasil Konten Facebook:</label>
    <textarea id="result" class="form-control mb-3" rows="8" readonly></textarea>

    <button id="copyBtn" class="btn btn-success w-100">ðŸ“‹ Salin ke Clipboard</button>
  </div>
</div>

<script>
let leaders = [];

async function loadLeaders() {
  try {
    const res = await fetch('data/leaders.json');
    leaders = await res.json();
    const select = document.getElementById("leaderSelect");
    select.innerHTML = '<option value="">Pilih Leader</option>';
    leaders.forEach(l => {
      const opt = document.createElement("option");
      opt.value = l.slug;
      opt.textContent = `${l.id}${l.code} - ${l.name}`;
      select.appendChild(opt);
    });
  } catch (err) {
    console.error("Gagal memuat data leader", err);
  }
}

function generateContent() {
  const leaderSlug = document.getElementById("leaderSelect").value;
  const tema = document.getElementById("temaSelect").value;
  const style = document.getElementById("styleSelect").value;
  const output = document.getElementById("result");

  if (!leaderSlug) return alert("Pilih dulu leader-nya ya beb ðŸ’â€â™€ï¸");

  const l = leaders.find(x => x.slug === leaderSlug);
  if (!l) return alert("Leader tidak ditemukan!");

  let intro = "";
  if (tema === "soft") intro = "ðŸ’¼ Pengen dapet penghasilan tambahan dari bisnis proteksi & investasi?";
  if (tema === "motivasi") intro = "âœ¨ Banyak orang kerja keras tiap hari, tapi belum menyiapkan masa depan finansialnya.";
  if (tema === "edukasi") intro = "ðŸ“˜ 3iReborn bukan cuma asuransi, tapi solusi cerdas untuk proteksi dan investasi jangka panjang.";

  let gaya = "";
  if (style === "formal") gaya = "Program ini sudah terbukti membantu ribuan keluarga Indonesia mencapai kebebasan finansial dengan langkah yang aman dan terukur.";
  if (style === "friendly") gaya = "Kalo kamu pengen mulai, santai aja â€” bareng aku kamu bakal dibimbing sampai bisa ðŸ’ª";
  if (style === "emotional") gaya = "Kita nggak tahu apa yang akan terjadi besok, tapi kita bisa siapkan hari ini untuk masa depan yang lebih tenang ðŸ™";

  const waLink = `https://wa.me/${l.phone}?text=Halo%20${encodeURIComponent(l.name)}%2C%20saya%20tertarik%20dengan%203iReborn!`;

  const content = `${intro}\n\n${gaya}\n\nðŸŒŸ Dibimbing langsung oleh ${l.id}${l.code} ${l.name}\nðŸ“± Hubungi beliau langsung di WhatsApp:\n${waLink}\n\n#3iReborn #NPA #ProteksiInvestasi #DigitalSystem`;

  output.value = content;
}

document.getElementById("generateBtn").addEventListener("click", generateContent);
document.getElementById("copyBtn").addEventListener("click", () => {
  const result = document.getElementById("result");
  result.select();
  document.execCommand("copy");
  alert("Konten berhasil disalin âœ¨ Siap posting ke Facebook!");
});

document.addEventListener("DOMContentLoaded", loadLeaders);
</script>

</body>
</html>
