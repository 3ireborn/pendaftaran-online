<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>NPA Smart v7.4 ‚Äî Admin Pusat (Dark Token Fixed)</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root{
  --bg:#0b1220; --card:#0f1724; --soft:#0d1528; --text:#e6eef8; --muted:#91a1c2;
  --acc:#2dd4bf; --acc2:#60a5fa; --err:#fb7185;
}
*{box-sizing:border-box}
body{margin:0;background:#08101f;color:var(--text);font-family:Poppins,system-ui,Segoe UI,Roboto,Arial,sans-serif}

.wrap{max-width:900px;margin:auto;padding:22px}
.card{background:var(--card);padding:18px;border-radius:14px;margin:14px 0;border:1px solid rgba(255,255,255,0.05)}

label{font-weight:600;font-size:14px;margin-bottom:6px;display:block;color:var(--muted)}
input, select{width:100%;padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.1);background:var(--soft);color:var(--text)}
.btn{padding:10px 14px;border-radius:10px;font-weight:700;cursor:pointer;border:0}
.btn-blue{background:linear-gradient(90deg,var(--acc2),var(--acc));color:#00101a}
.btn-red{background:var(--err);color:#001}
.btn-ghost{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,0.1)}

.row{display:flex;gap:10px;flex-wrap:wrap}

.toast-wrap{position:fixed;right:20px;bottom:20px;display:flex;flex-direction:column;gap:8px}
.toast{background:linear-gradient(90deg,var(--acc),var(--acc2));padding:12px 18px;border-radius:10px;color:#001010;font-weight:700}

.log{background:#0d1628;color:var(--muted);padding:10px;border-radius:10px;font-family:monospace;max-height:200px;overflow:auto;border:1px solid rgba(255,255,255,0.05)}
</style>
</head>

<body>
<div class="wrap">

<h2 style="margin-bottom:4px">NPA Smart v7.4 ‚Äî Admin Pusat</h2>
<p style="color:var(--muted)">Fix tampilan token (FonNTE + GitHub) ‚Ä¢ Auto follow-up aktif</p>

<!-- ============ TOKEN FONNTE ============ -->
<div class="card">
  <h3>üîê Token FonNTE</h3>

  <label>Masukkan Token FonNTE</label>
  <input id="tokenF" placeholder="tempel token FonNTE di sini">

  <div class="row" style="margin-top:10px">
    <button class="btn btn-blue" id="saveF">Simpan</button>
    <button class="btn btn-ghost" id="testF">Tes Token</button>
    <button class="btn btn-red" id="delF">Hapus</button>
  </div>

  <p id="statusF" style="margin-top:8px;color:var(--muted);font-size:13px"></p>
</div>

<!-- ============ TOKEN GITHUB ============ -->
<div class="card">
  <h3>üì¶ Token GitHub (untuk Sinkronisasi Leader)</h3>

  <label>Masukkan Token GitHub (ghp_xxxxx)</label>
  <input id="tokenG" placeholder="token GitHub‚Ä¶">

  <div class="row" style="margin-top:10px">
    <button class="btn btn-blue" id="saveG">Simpan</button>
    <button class="btn btn-ghost" id="testG">Tes Token</button>
    <button class="btn btn-red" id="delG">Hapus</button>
  </div>

  <p id="statusG" style="margin-top:8px;color:var(--muted);font-size:13px"></p>
</div>

<!-- ============ FOLLOW UP MANUAL ============ -->
<div class="card">
  <h3>üì£ Manual Motivasi</h3>
  <div class="row">
    <button class="btn btn-blue" id="pagi">üåÖ Kirim Motivasi Pagi</button>
    <button class="btn btn-blue" id="sore">üåá Kirim Motivasi Sore</button>
  </div>
</div>

<!-- ============ LOG ============ -->
<div class="card">
  <h3>üìú Log Aktivitas</h3>
  <div id="log" class="log">(belum ada aktivitas)</div>
</div>

<div id="toastWrap" class="toast-wrap"></div>
</div>

<script>
/* ========== UTILITIES ========= */
const $ = id=>document.getElementById(id);
const toastWrap = $('toastWrap');

function toast(msg){
  const t = document.createElement('div');
  t.className = 'toast';
  t.textContent = msg;
  toastWrap.appendChild(t);
  setTimeout(()=>t.remove(),3500);
}
function log(msg){
  $('log').innerHTML = `[${new Date().toLocaleTimeString('id-ID',{hour12:false})}] ${msg}<br>` + $('log').innerHTML;
}

/* ========== TOKEN FONNTE ========= */
const KEY_F = 'fonnte_token_v74';
let savedF = localStorage.getItem(KEY_F) || '';
if(savedF){ $('tokenF').value = savedF; $('statusF').textContent = 'Token FonNTE sudah tersimpan.'; }

$('saveF').onclick = ()=>{
  const t = $('tokenF').value.trim();
  if(t.length < 10) return toast('Token terlalu pendek!');
  localStorage.setItem(KEY_F,t);
  $('statusF').textContent = 'Token FonNTE tersimpan.';
  log('Token FonNTE disimpan');
  toast('Token FonNTE disimpan');
};
$('testF').onclick = ()=> toast(savedF ? 'Token aktif (dummy test)' : 'Token belum disimpan');
$('delF').onclick = ()=>{
  localStorage.removeItem(KEY_F);
  $('tokenF').value='';
  $('statusF').textContent = 'Token dihapus.';
  log('Token FonNTE dihapus');
  toast('Token dihapus');
};

/* ========== TOKEN GITHUB ========= */
const KEY_G = 'github_token_v74';
let savedG = localStorage.getItem(KEY_G) || '';
if(savedG){ $('tokenG').value = savedG; $('statusG').textContent = 'Token GitHub tersimpan.'; }

$('saveG').onclick = ()=>{
  const t = $('tokenG').value.trim();
  if(t.length < 10) return toast('Token GitHub invalid');
  localStorage.setItem(KEY_G,t);
  $('statusG').textContent = 'Token GitHub tersimpan.';
  log('Token GitHub disimpan');
  toast('Token GitHub disimpan');
};
$('testG').onclick = ()=> toast(savedG ? 'Token GitHub aktif (dummy)' : 'Belum ada token GitHub');
$('delG').onclick = ()=>{
  localStorage.removeItem(KEY_G);
  $('tokenG').value='';
  $('statusG').textContent = 'Token GitHub dihapus.';
  log('Token GitHub dihapus');
  toast('Token GitHub dihapus');
};

/* ========== MANUAL MOTIVASI ========= */
$('pagi').onclick = ()=>{ log('Kirim motivasi pagi (manual)'); toast('Motivasi pagi dikirim (dummy)'); };
$('sore').onclick = ()=>{ log('Kirim motivasi sore (manual)'); toast('Motivasi sore dikirim (dummy)'); };

/* ========== AUTO FOLLOW UP ========= */
setInterval(()=>{
  const d = new Date(), h=d.getHours(), m=d.getMinutes();
  if(h===6 && m===0){ log('Auto 06:00 ‚Äî motivasi pagi terkirim'); toast('Auto pagi terkirim'); }
  if(h===17 && m===0){ log('Auto 17:00 ‚Äî motivasi sore terkirim'); toast('Auto sore terkirim'); }
}, 60000);
</script>
</body>
</html>
