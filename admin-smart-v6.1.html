<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>NPA Smart â€” Admin Pusat v6.1 (AI Auto Reply)</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
 --bg:#0b1220;--panel:#0f172a;--muted:#94a3b8;--text:#e6eefc;
 --ok:#10b981;--warn:#f59e0b;--bad:#ef4444;--btn:#2563eb;
}
body{margin:0;background:var(--bg);color:var(--text);font-family:"Inter",system-ui;padding:28px}
h1{font-size:26px;margin-bottom:0}
.card{background:var(--panel);border-radius:12px;padding:16px;margin:16px 0;border:1px solid #1e2d48}
button{border:none;border-radius:8px;padding:10px 14px;font-weight:600;cursor:pointer;color:#fff}
.btn{background:var(--btn)} .btn-ghost{background:#1e293b}
.btn-ok{background:var(--ok)} .btn-warn{background:var(--warn)} .btn-bad{background:var(--bad)}
.mini{font-size:12px;color:var(--muted)}
.mono{font-family:ui-monospace,monospace;font-size:13px}
.grid5{display:grid;gap:8px;grid-template-columns:repeat(auto-fit,minmax(120px,1fr))}
#log{max-height:40vh;overflow:auto;background:#0a1429;border:1px solid #1f2d4b;border-radius:8px;padding:10px}
</style>
</head>
<body>
<h1>ğŸ§­ NPA Smart â€” Admin Pusat v6.1</h1>
<p class="mini">Auto Reply â€¢ Auto Follow-Up WIB â€¢ Manual AI â€¢ Leader Links</p>

<div class="card">
 <b>Token Fonnte:</b><br>
 <button class="btn" id="setTok">Set Token</button>
 <button class="btn-ghost" id="tesTok">Tes Kirim</button>
 <p id="tokStat" class="mini"></p>
</div>

<div class="card">
 <b>Tambah Mitra / Leader</b><br>
 <input id="name" placeholder="Nama Leader" style="width:49%">
 <input id="wa" placeholder="No. WA (62â€¦)" style="width:49%">
 <br><br>
 <button class="btn" id="buat">ğŸš€ Buat 3 Link</button>
 <div id="hasil" class="mono mini" style="margin-top:10px"></div>
</div>

<div class="card">
 <b>Follow-Up Otomatis (AI)</b><br>
 <label>Status: <span id="autoStat">Nonaktif</span></label><br>
 <select id="auto06">
   <option value="on">Aktif</option>
   <option value="off">Nonaktif</option>
 </select>
 <p class="mini" id="nextRun">Next run: â€”</p>
</div>

<div class="card">
 <b>Manual Follow-Up AI</b>
 <div class="grid5" style="margin-top:10px">
  <button class="btn-ok" id="motiv">ğŸŒ… Motivasi</button>
  <button class="btn-ghost" id="info">ğŸ“Š Info Bonus</button>
  <button class="btn-warn" id="land">â˜• Bonus Landing</button>
  <button class="btn-ghost" id="rek">ğŸš€ Rekrutmen</button>
  <button class="btn-bad" id="premi">ğŸ’° Premi</button>
 </div>
</div>

<div class="card">
 <b>ğŸ¤– Auto Reply (AI Assistant)</b>
 <p class="mini">Sistem akan merespon otomatis pesan masuk berdasarkan kata kunci prospek (minat, premi, bonus, daftar, dll).</p>
 <button class="btn" id="simulate">ğŸ” Simulasi Pesan Masuk</button>
</div>

<div class="card">
 <b>ğŸ§¾ Log Aktivitas</b>
 <button class="btn-ghost" style="float:right" id="clear">Bersihkan</button><br><br>
 <div id="log" class="mono mini"></div>
</div>

<p class="mini">Powered by NPA Smart Ã— 3iReborn â€¢ â€œKitaNganggur Punya Penghasilanâ€ ğŸš€</p>

<script>
const BOT={
 baseUrl:"https://api.fonnte.com/send",
 tokenKey:"fonnte_token",
 tz:"Asia/Jakarta",
 leaders:["6285218453131","6285932684440"],
 msgs:{
   motiv:["ğŸŒ… Selamat pagi! Mulai hari ini dengan semangat baru. Satu langkah kecil hari ini = sejuta perubahan besar."],
   info:["ğŸ“Š Cek progres hari ini! Bonus gak datang dari mimpi, tapi dari aksi konsistenmu ğŸ’ª"],
   land:["â˜• Sore santai, tapi tetap semangat. Jalan pelan asal terus jalan itu menang!"],
   rek:["ğŸš€ Waktu terbaik rekrut itu sekarang. Kirim satu pesan, tanam satu peluang."],
   premi:["ğŸ’° Premi bulan ini jangan lupa ya! Bonusmu aman kalau premi tepat waktu."]
 },
 replies:{
   minat:"Terima kasih atas ketertarikannya ğŸ™ Silakan isi data di link berikut ya:\nhttps://3ireborn.github.io/pendaftaran-online/form-pendaftaran-v3.1.html",
   premi:"Untuk pembayaran premi, silakan hubungi leader Anda atau ikuti panduan transfer resmi 3iReborn ğŸ’³",
   bonus:"Bonus dibayarkan setiap tanggal 15. Tetap semangat kerja cerdas ğŸ’ª",
   daftar:"Silakan langsung isi formulir online berikut untuk bergabung:\nhttps://3ireborn.github.io/pendaftaran-online/form-pendaftaran-v3.1.html",
   default:"Terima kasih telah menghubungi NPA Smart Ã— 3iReborn ğŸ™ Pesan Anda akan segera kami teruskan ke leader."
 }
};
const $=q=>document.querySelector(q);
const nowWIB=()=>new Date(new Date().toLocaleString("id-ID",{timeZone:BOT.tz}));
const log=t=>{$("#log").prepend(`[${nowWIB().toLocaleTimeString("id-ID",{hour12:false})}] ${t}\n`);}
const getTok=()=>localStorage.getItem(BOT.tokenKey)||"";
const setTok=t=>{localStorage.setItem(BOT.tokenKey,t);paintTok();}
function paintTok(){$("#tokStat").textContent=getTok()? "Token aktif":"Token belum di-set";}
function pick(a){return a[Math.floor(Math.random()*a.length)];}
async function kirim(no,pesan){
 let r=await fetch(BOT.baseUrl,{method:"POST",
 headers:{Authorization:getTok(),"Content-Type":"application/json"},
 body:JSON.stringify({target:no,message:pesan})});
 if(!r.ok) throw new Error("HTTP "+r.status); return true;}
async function broadcast(msg){for(let n of BOT.leaders){try{await kirim(n,msg);log("âœ… "+n+" terkirim");}catch(e){log("âŒ "+n+" gagal");}}}
function buat(){
 const n=$("#name").value.trim(),w=$("#wa").value.trim();
 if(!n||!w){alert("Isi nama & WA");return;}
 const s=n.toLowerCase().replace(/\s+/g,"-");
 const base="https://3ireborn.github.io/pendaftaran-online/";
 const q=`?name=${encodeURIComponent(n)}&wa=${encodeURIComponent(w)}&slug=${encodeURIComponent(s)}`;
 $("#hasil").innerText=`ğŸŒ LP Master â†’ ${base}lp-master.html${q}\nğŸ”¥ LP Hot â†’ ${base}lp-hot.html${q}\nğŸ“ Form â†’ ${base}form-pendaftaran-v3.1.html${q}`;
 log("ğŸ”— Link dibuat utk "+n);}
async function manual(k){const pesan=pick(BOT.msgs[k])+"\n\nâ€” via NPA Smart Ã— 3iReborn ğŸš€";
 log("ğŸš€ Manual "+k+" dimulai");await broadcast(pesan);log("âœ¨ Manual "+k+" selesai");}
let lastRun="";
setInterval(()=>{
 const a=$("#auto06").value;const n=nowWIB();const jam=n.getHours(),mnt=n.getMinutes();
 $("#autoStat").textContent=(a==="on"?"Aktif âœ…":"Nonaktif âŒ");
 if(a==="on"){$("#nextRun").textContent=`Next run: 06:00 WIB (sekarang ${jam}:${String(mnt).padStart(2,"0")})`;}
 if(a==="on"&&jam===6&&mnt===0){const stmp=n.toISOString().slice(0,13);
 if(stmp!==lastRun){lastRun=stmp;const text=pick(BOT.msgs.motiv)+"\n\nâ€” Auto 06:00 WIB ğŸš€";
 log("â° Auto 06:00 dimulai");broadcast(text).then(()=>log("âœ… Auto selesai"));}}
},30000);

/* ============ AUTO REPLY SIMULATION ============ */
function aiReply(text){
 const t=text.toLowerCase();
 if(t.includes("minat")||t.includes("tertarik")) return BOT.replies.minat;
 if(t.includes("premi")||t.includes("bayar")) return BOT.replies.premi;
 if(t.includes("bonus")||t.includes("komisi")) return BOT.replies.bonus;
 if(t.includes("daftar")||t.includes("join")) return BOT.replies.daftar;
 return BOT.replies.default;
}
$("#simulate").onclick=()=>{
 const msg=prompt("Ketik pesan simulasi (contoh: Saya minat bergabung):","");
 if(!msg)return;
 const balas=aiReply(msg);
 log(`ğŸ’¬ Pesan masuk: "${msg}"`);
 log(`ğŸ¤– Balasan AI: ${balas}`);
 alert("AI Balas:\n\n"+balas);
};

$("#setTok").onclick=()=>{const t=prompt("Masukkan token:",getTok());if(t!==null)setTok(t);}
$("#tesTok").onclick=async()=>{try{await kirim(BOT.leaders[0],"Tes kirim âœ…");log("âœ… Tes kirim sukses");}catch(e){log("âŒ Tes gagal "+e.message);}}
$("#buat").onclick=buat;
$("#motiv").onclick=()=>manual("motiv");
$("#info").onclick=()=>manual("info");
$("#land").onclick=()=>manual("land");
$("#rek").onclick=()=>manual("rek");
$("#premi").onclick=()=>manual("premi");
$("#clear").onclick=()=>$("#log").innerHTML="";
paintTok();
</script>
</body>
                                                                                      </html>
