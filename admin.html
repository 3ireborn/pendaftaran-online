<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Panel - NPA 3iReborn</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">
<style>
  body {font-family:'Poppins',sans-serif;background:#f8f9fc;color:#0b3d91;margin:0;padding:0}
  .container {max-width:600px;margin:40px auto;background:#fff;border-radius:16px;box-shadow:0 10px 25px rgba(0,0,0,.1);padding:30px}
  h1 {text-align:center;font-size:26px;color:#0b3d91;margin-bottom:20px}
  input {width:100%;padding:14px;margin:8px 0;border-radius:10px;border:1px solid #ddd;font-size:15px}
  button {width:100%;padding:14px;margin-top:10px;border:none;border-radius:10px;font-weight:700;font-size:16px;cursor:pointer;transition:.2s}
  .add-btn {background:#d4380d;color:#fff;}
  .add-btn:hover {background:#b32f0a;}
  .download-btn {background:#0b3d91;color:#fff;margin-top:15px;}
  .download-btn:hover {background:#072a6d;}
  .leader-list {margin-top:25px}
  .leader-item {display:flex;justify-content:space-between;align-items:center;background:#f1f5ff;padding:10px 15px;border-radius:10px;margin:6px 0;border-left:4px solid #0b3d91}
  .leader-item span {font-weight:600}
  .leader-item button {background:#25d366;color:#fff;font-size:13px;padding:6px 10px;width:auto;border-radius:8px}
  footer{text-align:center;margin-top:25px;font-size:13px;color:#64748b}
</style>
</head>
<body>
  <div class="container">
    <h1>‚öôÔ∏è Admin: Tambah Leader</h1>
    <input type="text" id="name" placeholder="Nama Leader">
    <input type="tel" id="phone" placeholder="No WA (628...)">
    <button class="add-btn" onclick="addLeader()">TAMBAH & BUAT LP</button>
    <div class="leader-list" id="list"></div>
    <button class="download-btn" onclick="downloadAll()">üì¶ Download Semua LP (ZIP)</button>
  </div>
  <footer>Salam Nganggur Warbiasyah üí™üî•üöÄ</footer>

  <script>
    let leaders = JSON.parse(localStorage.getItem('leaders') || '[]');
    function render() {
      const list = document.getElementById('list');
      list.innerHTML = '';
      leaders.forEach((l, i) => {
        const div = document.createElement('div');
        div.className = 'leader-item';
        div.innerHTML = `<span>${l.code} - ${l.name}</span> <button onclick="createLP(${i})">Buat LP üîó</button>`;
        list.appendChild(div);
      });
    }

    function addLeader() {
      const name = document.getElementById('name').value.trim();
      const phone = document.getElementById('phone').value.trim();
      if (!name || !phone) return alert('Isi nama & nomor WA!');
      const slug = name.toLowerCase().replace(/[^a-z0-9]/g, '');
      const code = 'SK' + String(leaders.length + 1).padStart(3, '0');
      leaders.push({ name, phone, slug, code });
      localStorage.setItem('leaders', JSON.stringify(leaders));
      document.getElementById('name').value = '';
      document.getElementById('phone').value = '';
      render();
    }

    function createLP(i) {
      const l = leaders[i];
      const html = `
<!DOCTYPE html>
<html lang='id'><head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width,initial-scale=1.0'>
<title>3iReborn - ${l.name}</title>
<style>
body{font-family:Poppins,sans-serif;background:#f4f6f8;margin:0;padding:0;text-align:center;color:#0b3d91}
.hero{background:linear-gradient(135deg,#0b3d91,#d4380d);color:#fff;padding:60px 20px;border-radius:0 0 30px 30px;}
.hero h1{font-size:28px;margin-bottom:10px}
button{background:#25d366;color:#fff;padding:14px 25px;border:none;border-radius:50px;font-weight:700;font-size:16px;margin-top:20px;cursor:pointer}
button:hover{background:#1ebe57}
form{max-width:400px;margin:30px auto;padding:20px;background:#fff;border-radius:15px;box-shadow:0 6px 16px rgba(0,0,0,.1)}
input,select{width:100%;padding:12px;margin:8px 0;border:1px solid #ccc;border-radius:8px}
</style></head><body>
<div class='hero'>
<h1>3iReborn Bersama ${l.name}</h1>
<p>Proteksi ‚Ä¢ Investasi ‚Ä¢ Penghasilan Tanpa Batas</p>
</div>
<form onsubmit='sendWA(event)'>
<h2>Daftar Sekarang!</h2>
<input name='nama' placeholder='Nama Lengkap *' required>
<input name='hp' placeholder='No WA (628...) *' required>
<select name='premi' required>
<option value=''>Pilih Premi *</option>
<option>350.000</option>
<option>700.000</option>
<option>2.000.000</option>
</select>
<button type='submit'>KIRIM KE WA ${l.name}</button>
</form>
<script>
function sendWA(e){
e.preventDefault();
const f=new FormData(e.target);
let msg='LEAD BARU 3iReborn%0A%0A';
for(let[k,v]of f)msg+=k.toUpperCase()+': '+v+'%0A';
msg+='%0ALeader: ${l.code} - ${l.name}';
location.href='https://wa.me/${l.phone}?text='+msg;}
</script></body></html>`;
  </script>
</body>
</html>
