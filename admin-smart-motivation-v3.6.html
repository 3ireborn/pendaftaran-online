<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>NPA Motivation v3.6 â€” Smart Install + AutoScheduler</title>

  <!-- âœ… PWA Info -->
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#1a73e8">
  <link rel="icon" href="./asset/npa-icon-512.png" type="image/png">

  <!-- ğŸŒˆ Styling utama -->
  <style>
    body {font-family: Poppins, system-ui, sans-serif; background: #f7faff; margin: 0;}
    .wrap {max-width: 800px; margin: auto; background: #fff; border-radius: 12px; padding: 18px; margin-top: 70px; box-shadow: 0 3px 10px rgba(0,0,0,0.1);}
    h1 {color: #0b3d91; margin-bottom: 6px;}
    .sub {color: #667; margin-bottom: 14px;}
    select, input {padding: 8px 10px; border: 1px solid #ccd; border-radius: 6px;}
    .msg {background: #eef5ff; border-left: 5px solid #0b3d91; padding: 10px; border-radius: 6px;}
    .btn {background: #0b3d91; color: #fff; border: none; padding: 10px 18px; border-radius: 8px; margin-top: 10px;}
    .footer {text-align: center; margin-top: 18px; color: #778; font-size: 14px;}
    small {color: #999;}
    
    /* ğŸŒŸ Splash Screen */
    #splash {
      position: fixed; inset: 0;
      background: linear-gradient(135deg,#0b3d91,#1a73e8);
      color: white;
      display: flex; justify-content: center; align-items: center;
      flex-direction: column; font-family: Poppins, sans-serif;
      font-size: 20px; font-weight: 600; z-index: 9999;
      animation: fadeOut 1.8s ease forwards; animation-delay: 2.2s;
    }
    @keyframes fadeOut {
      to {opacity: 0; visibility: hidden;}
    }
    #splash img {
      width: 90px; height: 90px; margin-bottom: 12px;
      animation: float 2s infinite ease-in-out;
    }
    @keyframes float {
      0%,100% {transform: translateY(0);}
      50% {transform: translateY(-8px);}
    }
  </style>
</head>

<body>
  <!-- ğŸŒŸ Splash Screen -->
  <div id="splash">
    <img src="./asset/npa-icon-512.png" alt="NPA Logo">
    NPA Motivation v3.6
    <small>3iReborn Smart System</small>
  </div>

  <div class="wrap">
    <h1>ğŸ’¬ NPA Motivation v3.6</h1>
    <p class="sub">Smart Install + Daily WhatsApp AutoScheduler</p>

    <select id="target">
      <option value="leader">Target: Leader</option>
      <option value="mitra">Target: Mitra</option>
    </select>

    <select id="tema">
      <option>Hari Senin</option>
      <option>Hari Selasa</option>
      <option>Hari Rabu</option>
      <option>Hari Kamis</option>
      <option>Hari Jumat</option>
      <option>Hari Sabtu</option>
      <option>Hari Minggu</option>
    </select>

    <select id="jam">
      <option>07.00</option>
      <option>09.00</option>
      <option>12.00</option>
      <option>15.00</option>
    </select>

    <button class="btn" onclick="muatPesan()">ğŸ“© Muat Pesan</button>
    <div class="msg" id="pesanMotivasi">Menunggu pesan motivasi...</div>

    <button class="btn" onclick="kirimWA()">ğŸš€ Kirim ke WhatsApp</button>

    <p class="footer">
      Powered by <b>NPA</b> || 3iReborn Smart System ğŸ’™<br>
      <small>Menunggu jadwal otomatis...</small>
    </p>
  </div>

  <!-- ğŸ§  JavaScript -->
  <script>
    const pesan = {
      "Hari Senin": "Senin adalah tombol START. Mulai kecil, mulai sekarang. Allah melihat ikhtiarmu ğŸ’™",
      "Hari Selasa": "Selasa adalah waktu menanam usaha. Jangan menunggu hasil, fokuslah pada proses ğŸ’ª",
      "Hari Rabu": "Rabu, semangat stabil. Konsisten adalah jalan menuju keberkahan ğŸŒ¿",
      "Hari Kamis": "Kamis, hari memperbanyak amal & tindakan nyata ğŸŒŸ",
      "Hari Jumat": "Jumat berkah. Perbanyak doa, syukur & kontribusi ğŸ¤²",
      "Hari Sabtu": "Sabtu adalah latihan tangguh. Lanjutkan ritme suksesmu ğŸ”¥",
      "Hari Minggu": "Minggu, isi ulang hati & energi. Bersyukurlah atas setiap langkah â¤ï¸"
    };

    function muatPesan() {
      const tema = document.getElementById("tema").value;
      document.getElementById("pesanMotivasi").innerText = pesan[tema] || "Pilih tema untuk melihat motivasi.";
    }

    function kirimWA() {
      const target = document.getElementById("target").value;
      const isi = document.getElementById("pesanMotivasi").innerText;
      const url = `https://wa.me/?text=${encodeURIComponent("ğŸ”¥ NPA Motivation\n\n" + isi + "\n\n#3iReborn #NPA")}`;
      window.open(url, "_blank");
    }
  </script>

  <!-- ğŸ“² Smart Install Prompt -->
  <script>
    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;

      const btn = document.createElement('button');
      btn.innerText = 'ğŸ“² Pasang Aplikasi';
      btn.style.position = 'fixed';
      btn.style.bottom = '20px';
      btn.style.left = '50%';
      btn.style.transform = 'translateX(-50%)';
      btn.style.background = '#0b3d91';
      btn.style.color = '#fff';
      btn.style.border = 'none';
      btn.style.padding = '10px 18px';
      btn.style.borderRadius = '8px';
      btn.style.boxShadow = '0 3px 8px rgba(0,0,0,0.2)';
      btn.style.zIndex = '9999';
      btn.onclick = async () => {
        btn.remove();
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        if (outcome === 'accepted') console.log('âœ… App installed!');
        deferredPrompt = null;
      };
      document.body.appendChild(btn);
    });
  </script>
</body>
</html>
