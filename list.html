<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Daftar Link Live - 3iReborn</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    body{font-family:'Poppins',sans-serif;background:#f8f9fa;color:#333;padding:20px}
    h1{text-align:center;color:#d4380d}
    table{width:100%;border-collapse:collapse;margin-top:20px}
    th,td{border:1px solid #ccc;padding:10px;text-align:left}
    th{background:#d4380d;color:#fff}
    button{background:#25D366;color:#fff;border:none;padding:6px 10px;border-radius:6px;cursor:pointer;font-size:13px}
    button:hover{background:#1ebe57}
    .loading{text-align:center;margin-top:50px;font-weight:bold}
  </style>
</head>
<body>

  <h1>üìú Daftar Link Live 3iReborn</h1>
  <div id="content" class="loading">Memuat daftar file...</div>

  <script>
    const USER = "3ireborn";
    const REPO = "pendaftaran-online";

    async function loadFiles() {
      const contentDiv = document.getElementById("content");
      try {
        const res = await fetch(`https://api.github.com/repos/${USER}/${REPO}/contents/`);
        const files = await res.json();
        const htmlFiles = files.filter(f => f.name.endsWith(".html"));

        if (!htmlFiles.length) {
          contentDiv.innerHTML = "<p>Tidak ada file HTML ditemukan üòÖ</p>";
          return;
        }

        let table = "<table><tr><th>Nama File</th><th>Link Live</th><th>Aksi</th></tr>";
        htmlFiles.forEach(file => {
          const liveLink = `https://${USER}.github.io/${REPO}/${file.name}`;
          table += `
            <tr>
              <td>${file.name}</td>
              <td><a href="${liveLink}" target="_blank">${liveLink}</a></td>
              <td><button onclick="copyLink('${liveLink}')">üìã Salin</button></td>
            </tr>`;
        });
        table += "</table>";
        contentDiv.innerHTML = table;
      } catch (err) {
        contentDiv.innerHTML = `<p>‚ö†Ô∏è Gagal memuat daftar file. Periksa koneksi internet atau repository public.</p>`;
      }
    }

    function copyLink(link) {
      navigator.clipboard.writeText(link);
      alert("‚úÖ Link disalin: " + link);
    }

    loadFiles();
  </script>

</body>
</html>
