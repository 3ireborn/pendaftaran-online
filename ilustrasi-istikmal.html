<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ilustrasi Istikmal ‚Äî 3iReborn</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <style>
    :root{
      --green-dark:#14532d;
      --green-main:#166534;
      --green-soft:#bbf7d0;
      --bg:#f3f4f6;
      --card:#ffffff;
      --text:#0f172a;
      --muted:#64748b;
      --border:#e2e8f0;
      --accent:#0ea5e9;
    }
    *{box-sizing:border-box;font-family:"Poppins",sans-serif}
    body{
      margin:0;
      padding:16px;
      background:var(--bg);
      color:var(--text);
    }
    .wrap{
      max-width:960px;
      margin:0 auto 40px;
    }
    .hero{
      background:var(--green-dark);
      color:#fff;
      border-radius:18px;
      padding:20px 18px 22px;
      box-shadow:0 18px 35px rgba(15,23,42,0.35);
      margin-bottom:18px;
    }
    .hero-title{
      font-size:26px;
      font-weight:700;
      margin:0 0 4px;
      text-align:center;
    }
    .hero-sub{
      font-size:14px;
      text-align:center;
      color:#e2f3ff;
    }
    .hero-chip{
      display:inline-block;
      padding:4px 10px;
      border-radius:999px;
      background:rgba(15,23,42,0.4);
      font-size:11px;
      margin-top:10px;
    }
    .card{
      background:var(--card);
      border-radius:16px;
      padding:16px 14px 18px;
      border:1px solid var(--border);
      box-shadow:0 8px 18px rgba(15,23,42,0.08);
      margin-bottom:14px;
    }
    h2{
      margin:0 0 10px;
      font-size:17px;
    }
    p{
      margin:4px 0;
      font-size:13px;
      color:var(--muted);
    }
    label{
      font-size:13px;
      font-weight:500;
      display:block;
      margin-bottom:6px;
      color:var(--text);
    }
    select{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid var(--border);
      font-size:14px;
      outline:none;
    }
    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .pill{
      flex:1;
      min-width:130px;
      border-radius:14px;
      background:#f8fafc;
      border:1px solid var(--border);
      padding:10px 10px;
    }
    .pill-label{
      font-size:11px;
      color:var(--muted);
      margin-bottom:2px;
    }
    .pill-value{
      font-size:14px;
      font-weight:600;
    }
    .tabs{
      display:flex;
      gap:8px;
      margin-top:14px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .tab-btn{
      flex:1;
      min-width:120px;
      border-radius:999px;
      border:1px solid var(--border);
      padding:8px 10px;
      font-size:13px;
      background:#f8fafc;
      cursor:pointer;
      font-weight:500;
      color:var(--muted);
    }
    .tab-btn.active{
      background:var(--green-main);
      border-color:var(--green-main);
      color:#fff;
    }
    .tab-pane{display:none;}
    .tab-pane.active{display:block;}

    table{
      width:100%;
      border-collapse:collapse;
      font-size:12px;
      margin-top:6px;
    }
    th,td{
      padding:6px 6px;
      border-bottom:1px solid #e5e7eb;
      text-align:right;
      white-space:nowrap;
    }
    th{
      background:#f1f5f9;
      font-weight:600;
      color:#0f172a;
    }
    td.label, th.label{text-align:left;}
    .badge{
      display:inline-block;
      border-radius:999px;
      padding:2px 8px;
      font-size:10px;
      background:#e0f2fe;
      color:#0369a1;
    }
    .note{
      font-size:11px;
      color:var(--muted);
      margin-top:8px;
    }
    .disclaimer{
      font-size:11px;
      color:#9ca3af;
      margin-top:10px;
      background:#f1f5f9;
      border-radius:10px;
      padding:8px 10px;
    }
    .leader{
      font-size:12px;
      margin-top:8px;
      color:#e5f3ff;
    }
    .leader span{
      font-weight:600;
    }
    @media (min-width:720px){
      .hero{
        padding:22px 26px 24px;
      }
      .hero-title{font-size:30px;}
      .hero-sub{font-size:15px;}
      .pill-value{font-size:15px;}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <!-- HERO -->
    <section class="hero">
      <div class="hero-chip">Ilustrasi Istikmal Syariah ‚Äî 3iReborn</div>
      <h1 class="hero-title">Simulasi Manfaat Nilai Investasi</h1>
      <p class="hero-sub">
        Masa bayar 5 tahun, masa kepesertaan 7 tahun. Fokus pada
        ilustrasi pertumbuhan dana investasi Istikmal Syariah.
      </p>
      <div class="leader">
        Dipresentasikan oleh: <span id="leaderName">Leader 3iReborn</span><br />
        Kontak WhatsApp: <span id="leaderWA">-</span>
      </div>
    </section>

    <!-- INPUT PREMI -->
    <section class="card">
      <h2>1. Pilih Premi Bulanan</h2>
      <p>Pilih kontribusi bulanan yang ingin disimulasikan. Kamu bisa jelaskan ke prospek bahwa ini hanya gambaran kasar untuk membantu mereka punya bayangan.</p>

      <label for="premiSelect">Premi bulanan</label>
      <select id="premiSelect">
        <option value="350000">Rp 350.000 / bulan</option>
        <option value="500000" selected>Rp 500.000 / bulan (Rekomendasi Umroh)</option>
        <option value="700000">Rp 700.000 / bulan</option>
        <option value="1000000">Rp 1.000.000 / bulan</option>
        <option value="2000000">Rp 2.000.000 / bulan</option>
      </select>

      <div class="pill-row">
        <div class="pill">
          <div class="pill-label">Masa bayar kontribusi</div>
          <div class="pill-value">5 tahun (60 bulan)</div>
        </div>
        <div class="pill">
          <div class="pill-label">Masa kepesertaan</div>
          <div class="pill-value">7 tahun (84 bulan)</div>
        </div>
        <div class="pill">
          <div class="pill-label">Asumsi hasil investasi</div>
          <div class="pill-value">¬± 7% per tahun</div>
        </div>
      </div>

      <div class="pill-row" id="summaryRow">
        <div class="pill">
          <div class="pill-label">Total setoran 5 tahun</div>
          <div class="pill-value" id="sumSetoran">Rp 0</div>
        </div>
        <div class="pill">
          <div class="pill-label">Ilustrasi nilai akhir tahun ke-7</div>
          <div class="pill-value" id="sumNilaiAkhir">Rp 0</div>
        </div>
        <div class="pill">
          <div class="pill-label">Estimasi keuntungan investasi</div>
          <div class="pill-value" id="sumKeuntungan">Rp 0</div>
        </div>
      </div>

      <p class="disclaimer">
        <strong>PENTING:</strong> Ini <strong>hanya ilustrasi sederhana</strong> untuk membantu calon nasabah
        memahami manfaat investasi. Perhitungan resmi dan lengkap dapat dilihat di
        <strong>MOBISS 3iReborn / ilustrasi resmi CAR Life Insurance</strong>. Hasil akhir
        bisa berbeda tergantung kinerja investasi dan kebijakan perusahaan.
      </p>
    </section>

    <!-- TAB VIEW -->
    <section class="card">
      <h2>2. Lihat Ilustrasi Manfaat</h2>
      <p>Pilih tampilan yang ingin kamu gunakan saat presentasi ‚Äî bisa mulai dari ringkasan singkat lalu lanjut ke detail tahunan jika prospek tertarik.</p>

      <div class="tabs">
        <button class="tab-btn active" data-tab="ringkasan">Ringkasan Nilai Akhir</button>
        <button class="tab-btn" data-tab="detail">Detail Tahunan (7 Tahun)</button>
      </div>

      <!-- RINGKASAN -->
      <div class="tab-pane active" id="tab-ringkasan">
        <table>
          <tbody>
            <tr>
              <th class="label">Premi bulanan</th>
              <td id="rkPremi"></td>
            </tr>
            <tr>
              <th class="label">Total setoran 5 tahun</th>
              <td id="rkSetoran"></td>
            </tr>
            <tr>
              <th class="label">Ilustrasi nilai akhir tahun ke-7</th>
              <td id="rkNilaiAkhir"></td>
            </tr>
            <tr>
              <th class="label">Estimasi keuntungan investasi</th>
              <td id="rkKeuntungan"></td>
            </tr>
          </tbody>
        </table>
        <p class="note">
          üìå Mindset presentasi:<br/>
          ‚ÄúBapak/Ibu menyetor selama 5 tahun, tapi dana dibiarkan tumbuh hingga tahun ke-7.
          Di tahun ke-7 ini <strong>WAJIB dicairkan</strong> ‚Äî bisa dipakai untuk
          biaya Umroh, pendidikan, dana darurat, atau tujuan masa depan lainnya.‚Äù
        </p>
      </div>

      <!-- DETAIL TAHUNAN -->
      <div class="tab-pane" id="tab-detail">
        <table>
          <thead>
            <tr>
              <th class="label">Th</th>
              <th>Setoran / th</th>
              <th>Saldo awal</th>
              <th>Hasil investasi (7%)</th>
              <th>Saldo akhir</th>
              <th class="label">Keterangan</th>
            </tr>
          </thead>
          <tbody id="detailBody">
            <!-- diisi via JS -->
          </tbody>
        </table>
        <p class="note">
          Tahun 1‚Äì5: masih masa bayar kontribusi.<br/>
          Tahun 6‚Äì7: bebas setoran, dana tetap berkembang dari hasil investasi.
        </p>
      </div>

      <p class="disclaimer">
        <strong>Disclaimer:</strong> Perhitungan di halaman ini menggunakan model
        sederhana (setoran tahunan dan asumsi return rata-rata 7% per tahun). Tidak
        mewakili perhitungan aktuaria resmi perusahaan. Gunakan ilustrasi ini
        sebagai alat edukasi, bukan janji hasil pasti.
      </p>
    </section>

    <section class="card">
      <h2>3. Lanjut ke Presentasi Bisnis</h2>
      <p>
        Setelah prospek memahami manfaat <strong>Insurance + Investment</strong>,
        kamu bisa arahkan ke:
      </p>
      <ul style="margin:6px 0 0 18px;padding:0;font-size:13px;color:var(--muted);">
        <li>LP Master untuk penjelasan lengkap 3iReborn.</li>
        <li>LP Hot untuk follow up closing & pemilihan premi.</li>
        <li>Form Pendaftaran Online v3.3 untuk proses input data resmi.</li>
      </ul>
      <p class="note">
        Dengan alur ini, halaman ilustrasi hanya menjadi ‚Äújembatan edukasi‚Äù
        sebelum nasabah masuk ke alur utama NPA Smart System.
      </p>
    </section>
  </div>

<script>
  // -------- Helper format rupiah ----------
  function formatRupiah(num){
    return new Intl.NumberFormat('id-ID',{
      style:'currency',
      currency:'IDR',
      maximumFractionDigits:0
    }).format(Math.round(num));
  }

  // -------- Baca parameter URL (opsional) ----------
  (function initLeaderFromQuery(){
    const params = new URLSearchParams(window.location.search);
    const name = params.get('name') || 'Leader 3iReborn';
    const wa   = params.get('wa')   || '-';
    document.getElementById('leaderName').textContent = name;
    document.getElementById('leaderWA').textContent   = wa;
  })();

  const premiSelect   = document.getElementById('premiSelect');
  const sumSetoranEl  = document.getElementById('sumSetoran');
  const sumNilaiEl    = document.getElementById('sumNilaiAkhir');
  const sumUntungEl   = document.getElementById('sumKeuntungan');

  const rkPremiEl     = document.getElementById('rkPremi');
  const rkSetoranEl   = document.getElementById('rkSetoran');
  const rkNilaiEl     = document.getElementById('rkNilaiAkhir');
  const rkUntungEl    = document.getElementById('rkKeuntungan');
  const detailBody    = document.getElementById('detailBody');

  function hitungSimulasi(){
    const premiBulanan = parseInt(premiSelect.value || '0',10);
    const kontribusiTahunan = premiBulanan * 12;
    const masaBayar = 5;
    const masaKepesertaan = 7;
    const r = 0.07; // 7% / tahun

    let saldo = 0;
    const rows = [];

    for(let tahun=1; tahun<=masaKepesertaan; tahun++){
      const setoran = tahun <= masaBayar ? kontribusiTahunan : 0;
      const saldoAwal = saldo;
      const hasilInv = saldoAwal * r;
      const saldoAkhir = saldoAwal + hasilInv + setoran;
      saldo = saldoAkhir;

      let ket = '';
      if(tahun <= masaBayar){
        ket = 'Masa bayar kontribusi';
      }else if(tahun < masaKepesertaan){
        ket = 'Bebas setoran, dana tetap tumbuh';
      }else{
        ket = 'Tahun ke-7: ilustrasi pencairan dana';
      }

      rows.push({
        tahun,
        setoran,
        saldoAwal,
        hasilInv,
        saldoAkhir,
        ket
      });
    }

    const totalSetoran = kontribusiTahunan * masaBayar;
    const nilaiAkhir = saldo;
    const keuntungan = nilaiAkhir - totalSetoran;

    // --- update ringkasan ---
    sumSetoranEl.textContent = formatRupiah(totalSetoran);
    sumNilaiEl.textContent   = formatRupiah(nilaiAkhir);
    sumUntungEl.textContent  = formatRupiah(keuntungan);

    rkPremiEl.textContent     = formatRupiah(premiBulanan) + ' / bulan';
    rkSetoranEl.textContent   = formatRupiah(totalSetoran);
    rkNilaiEl.textContent     = formatRupiah(nilaiAkhir);
    rkUntungEl.textContent    = formatRupiah(keuntungan);

    // --- update tabel detail ---
    detailBody.innerHTML = rows.map(r=>{
      return `
        <tr>
          <td class="label">${r.tahun}</td>
          <td>${r.setoran ? formatRupiah(r.setoran) : '-'}</td>
          <td>${r.saldoAwal ? formatRupiah(r.saldoAwal) : '-'}</td>
          <td>${r.hasilInv ? formatRupiah(r.hasilInv) : '-'}</td>
          <td>${formatRupiah(r.saldoAkhir)}</td>
          <td class="label"><span class="badge">${r.ket}</span></td>
        </tr>
      `;
    }).join('');
  }

  premiSelect.addEventListener('change', hitungSimulasi);
  hitungSimulasi();

  // -------- Tab switching ----------
  document.querySelectorAll('.tab-btn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const target = btn.getAttribute('data-tab');
      document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');

      document.querySelectorAll('.tab-pane').forEach(p=>{
        p.classList.remove('active');
      });
      document.getElementById('tab-'+target).classList.add('active');
    });
  });
</script>
</body>
  </html>
